{"version":3,"sources":["../../../../lib/api.js","../../../../app/summary/page.js"],"sourcesContent":["const API_BASE = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:8080/api\";\r\n\r\nexport async function addFood(foodName, quantity) {\r\n  const response = await fetch(\r\n    `${API_BASE}/log?foodName=${encodeURIComponent(foodName)}&quantity=${quantity}`,\r\n    { method: \"POST\" }\r\n  );\r\n  if (!response.ok) throw new Error(\"Failed to add food\");\r\n  return response.json();\r\n}\r\n\r\nexport async function getTodaySummary() {\r\n  const response = await fetch(`${API_BASE}/summary/today`);\r\n  if (!response.ok) throw new Error(\"Failed to fetch today's summary\");\r\n  return response.json();\r\n}\r\n\r\nexport async function getMonthSummary(year, month) {\r\n  const response = await fetch(\r\n    `${API_BASE}/summary/month?year=${year}&month=${month}`\r\n  );\r\n  if (!response.ok) throw new Error(\"Failed to fetch month summary\");\r\n  return response.json();\r\n}\r\n","\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { getTodaySummary } from \"@/lib/api\";\r\n\r\nexport default function TodaySummaryPage() {\r\n  const router = useRouter();\r\n  const [summary, setSummary] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const user = localStorage.getItem(\"smarteat-user\");\r\n    if (!user) router.push(\"/login\");\r\n\r\n    async function load() {\r\n      try {\r\n        const data = await getTodaySummary();\r\n        setSummary(data);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n    load();\r\n  }, [router]);\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <div className=\"card p-6\">\r\n        <h1 className=\"text-lg font-semibold\">Today&apos;s Summary</h1>\r\n        <p className=\"mt-1 text-xs text-slate-500 dark:text-slate-400\">\r\n          Full breakdown of your logged intake for today.\r\n        </p>\r\n\r\n        <pre className=\"mt-4 max-h-80 overflow-auto rounded-lg bg-slate-900/5 p-3 text-xs text-slate-700 dark:bg-slate-900/70 dark:text-slate-100\">\r\n          {loading\r\n            ? \"Loading...\"\r\n            : summary\r\n            ? JSON.stringify(summary, null, 2)\r\n            : \"No data available.\"}\r\n        </pre>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"uCAAA,IAAM,EAAW,SAAA,mBAEV,IAF6C,WAE9B,EAAQ,CAAQ,CAAE,CAAQ,EAC9C,IAAM,EAAW,MAAM,MACrB,CAAA,EAAG,EAAS,cAAc,EAAE,mBAAmB,GAAU,UAAU,EAAE,EAAA,CAAU,CAC/E,CAAE,OAAQ,MAAO,GAEnB,GAAI,CAAC,EAAS,EAAE,CAAE,MAAM,AAAI,MAAM,sBAClC,OAAO,EAAS,IAAI,EACtB,CAEO,eAAe,IACpB,IAAM,EAAW,MAAM,MAAM,CAAA,EAAG,EAAS,cAAc,CAAC,EACxD,GAAI,CAAC,EAAS,EAAE,CAAE,MAAM,AAAI,MAAM,mCAClC,OAAO,EAAS,IAAI,EACtB,CAEO,eAAe,EAAgB,CAAI,CAAE,CAAK,EAC/C,IAAM,EAAW,MAAM,MACrB,CAAA,EAAG,EAAS,oBAAoB,EAAE,EAAK,OAAO,EAAE,EAAA,CAAO,EAEzD,GAAI,CAAC,EAAS,EAAE,CAAE,MAAM,AAAI,MAAM,iCAClC,OAAO,EAAS,IAAI,EACtB,iHCrBA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEe,SAAS,IACtB,IAAM,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAClB,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,MACjC,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAiBvC,MAfA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACK,AACT,CAAC,YADqB,OAAO,CAAC,kBACvB,EAAO,IAAI,CAAC,UAEvB,AAQA,eARe,EACb,GAAI,CACF,IAAM,EAAO,MAAM,CAAA,EAAA,EAAA,eAAA,AAAe,IAClC,EAAW,EACb,QAAU,CACR,GAAW,EACb,CACF,GAEF,EAAG,CAAC,EAAO,EAGT,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,iCAAwB,oBACtC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,2DAAkD,oDAI/D,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qIACZ,EACG,aACA,EACA,KAAK,SAAS,CAAC,EAAS,KAAM,GAC9B,2BAKd"}