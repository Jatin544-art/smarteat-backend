{"version":3,"sources":["../../../../app/login/page.js"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\nexport default function LoginPage() {\r\n  const router = useRouter();\r\n  const [isSignup, setIsSignup] = useState(false);\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [msg, setMsg] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const user = localStorage.getItem(\"smarteat-user\");\r\n    if (user) router.push(\"/dashboard\");\r\n  }, [router]);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    if (!email || !password) {\r\n      setMsg(\"Please enter email and password\");\r\n      return;\r\n    }\r\n\r\n    if (isSignup) {\r\n      localStorage.setItem(\r\n        \"smarteat-user\",\r\n        JSON.stringify({ email, password })\r\n      );\r\n      setMsg(\"Account created! Redirecting to dashboard...\");\r\n      setTimeout(() => router.push(\"/dashboard\"), 800);\r\n    } else {\r\n      const stored = localStorage.getItem(\"smarteat-user\");\r\n      if (!stored) {\r\n        setMsg(\"No account found. Please sign up first.\");\r\n        return;\r\n      }\r\n      const user = JSON.parse(stored);\r\n      if (user.email === email && user.password === password) {\r\n        setMsg(\"Login successful! Redirecting...\");\r\n        setTimeout(() => router.push(\"/dashboard\"), 800);\r\n      } else {\r\n        setMsg(\"Incorrect email or password\");\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex min-h-[70vh] items-center justify-center\">\r\n      <div className=\"card w-full max-w-md p-8\">\r\n        <h1 className=\"mb-2 text-center text-2xl font-bold\">\r\n          {isSignup ? \"Create Smart Eat Account\" : \"Welcome back to Smart Eat\"}\r\n        </h1>\r\n        <p className=\"mb-6 text-center text-sm text-slate-500 dark:text-slate-400\">\r\n          Track your calories, macros and more – in a few taps.\r\n        </p>\r\n\r\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n          <div>\r\n            <label className=\"text-sm font-medium\">Email</label>\r\n            <input\r\n              type=\"email\"\r\n              className=\"mt-1 w-full rounded-lg border border-slate-200 bg-white/70 px-3 py-2 text-sm outline-none ring-sky-400/40 focus:border-sky-400 focus:ring-2 dark:border-slate-700 dark:bg-slate-900/70\"\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n              placeholder=\"you@example.com\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label className=\"text-sm font-medium\">Password</label>\r\n            <input\r\n              type=\"password\"\r\n              className=\"mt-1 w-full rounded-lg border border-slate-200 bg-white/70 px-3 py-2 text-sm outline-none ring-sky-400/40 focus:border-sky-400 focus:ring-2 dark:border-slate-700 dark:bg-slate-900/70\"\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n              placeholder=\"••••••••\"\r\n            />\r\n          </div>\r\n\r\n          {msg && (\r\n            <p className=\"text-xs text-rose-500 dark:text-rose-400\">{msg}</p>\r\n          )}\r\n\r\n          <button\r\n            type=\"submit\"\r\n            className=\"mt-2 w-full rounded-xl bg-sky-500 py-2 text-sm font-semibold text-white shadow-lg shadow-sky-500/40 transition hover:scale-[1.02] hover:bg-sky-600\"\r\n          >\r\n            {isSignup ? \"Sign Up\" : \"Login\"}\r\n          </button>\r\n        </form>\r\n\r\n        <button\r\n          onClick={() => {\r\n            setIsSignup((x) => !x);\r\n            setMsg(\"\");\r\n          }}\r\n          className=\"mt-4 w-full text-center text-xs text-sky-600 underline dark:text-sky-400\"\r\n        >\r\n          {isSignup ? \"Already have an account? Login\" : \"New here? Create an account\"}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"wDAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEe,SAAS,IACtB,IAAM,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAClB,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACnC,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAC7B,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACnC,CAAC,EAAK,EAAO,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,UAE/B,CAAA,EAAA,EAAA,SAAS,AAAT,EAAU,KACK,AACT,aADsB,OAAO,CAAC,kBACxB,EAAO,IAAI,CAAC,aACxB,EAAG,CAAC,EAAO,EAiCT,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qCACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,+CACX,EAAW,2BAA6B,8BAE3C,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uEAA8D,0DAI3E,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,SAxCZ,CAwCsB,QAxCb,AAAa,CAAC,EAErB,GADA,EAAE,cAAc,GACZ,CAAC,GAAS,CAAC,EAAU,YACvB,EAAO,mCAIT,GAAI,EACF,QADY,KACC,OAAO,CAClB,gBACA,KAAK,SAAS,CAAC,OAAE,WAAO,CAAS,IAEnC,EAAO,gDACP,WAAW,IAAM,EAAO,IAAI,CAAC,cAAe,SACvC,CACL,IAAM,EAAS,aAAa,OAAO,CAAC,iBACpC,GAAI,CAAC,EAAQ,YACX,EAAO,2CAGT,IAAM,EAAO,KAAK,KAAK,CAAC,GACpB,EAAK,KAAK,GAAK,GAAS,EAAK,QAAQ,GAAK,GAC5C,EAAO,KAD+C,+BAEtD,WAAW,IAAM,EAAO,IAAI,CAAC,cAAe,MAE5C,EAAO,8BAEX,CACF,EAYoC,UAAU,sBACtC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,+BAAsB,UACvC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,QACL,UAAU,yLACV,MAAO,EACP,SAAW,AAAD,GAAO,EAAS,EAAE,MAAM,CAAC,KAAK,EACxC,YAAY,uBAGhB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,+BAAsB,aACvC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,WACL,UAAU,yLACV,MAAO,EACP,SAAU,AAAC,GAAM,EAAY,EAAE,MAAM,CAAC,KAAK,EAC3C,YAAY,gBAIf,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,oDAA4C,IAG3D,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,KAAK,SACL,UAAU,8JAET,EAAW,UAAY,aAI5B,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,KACP,EAAY,AAAC,GAAM,CAAC,GACpB,EAAO,GACT,EACA,UAAU,oFAET,EAAW,iCAAmC,oCAKzD"}