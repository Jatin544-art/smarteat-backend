(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,4581,t=>{"use strict";let e="http://localhost:8080/api";async function a(t,a){let s=await fetch(`${e}/log?foodName=${encodeURIComponent(t)}&quantity=${a}`,{method:"POST"});if(!s.ok)throw Error("Failed to add food");return s.json()}async function s(){let t=await fetch(`${e}/summary/today`);if(!t.ok)throw Error("Failed to fetch today's summary");return t.json()}async function o(t,a){let s=await fetch(`${e}/summary/month?year=${t}&month=${a}`);if(!s.ok)throw Error("Failed to fetch month summary");return s.json()}t.s(["addFood",()=>a,"getMonthSummary",()=>o,"getTodaySummary",()=>s])},53215,t=>{"use strict";var e=t.i(43476),a=t.i(71645),s=t.i(18566),o=t.i(4581);function r(){let t=(0,s.useRouter)(),[r,l]=(0,a.useState)(null),[i,n]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{localStorage.getItem("smarteat-user")?async function(){try{let t=await (0,o.getTodaySummary)();l(t)}catch(t){console.error(t)}finally{n(!1)}}():t.push("/login")},[t]),(0,e.jsxs)("div",{className:"space-y-6",children:[(0,e.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-end sm:justify-between",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("h1",{className:"text-2xl font-bold tracking-tight",children:"Your Smart Eat Dashboard"}),(0,e.jsx)("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Quick snapshot of your day's nutrition and trends."})]}),(0,e.jsx)("button",{onClick:()=>t.push("/add-food"),className:"mt-2 inline-flex items-center rounded-xl bg-emerald-500 px-4 py-2 text-xs font-semibold text-white shadow-md shadow-emerald-500/40 transition hover:scale-105 hover:bg-emerald-600 sm:mt-0",children:"+ Add Food Entry"})]}),(0,e.jsx)("div",{className:"grid gap-4 md:grid-cols-4",children:[{title:"Calories Today",key:"totalCalories",unit:"kcal",accent:"from-orange-400 to-rose-500"},{title:"Protein Today",key:"totalProtein",unit:"g",accent:"from-sky-400 to-indigo-500"},{title:"Fat Today",key:"totalFat",unit:"g",accent:"from-amber-400 to-emerald-500"},{title:"Carbs Today",key:"totalCarbs",unit:"g",accent:"from-fuchsia-400 to-purple-500"}].map(t=>(0,e.jsxs)("div",{className:"card relative overflow-hidden p-4",children:[(0,e.jsx)("div",{className:`pointer-events-none absolute -right-8 -top-8 h-20 w-20 rounded-full bg-gradient-to-br opacity-40 ${t.accent}`}),(0,e.jsx)("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:t.title}),(0,e.jsx)("p",{className:"mt-3 text-2xl font-bold",children:i?"...":r?`${Math.round(r[t.key]||0)} ${t.unit}`:`0 ${t.unit}`}),(0,e.jsx)("p",{className:"mt-1 text-[10px] text-slate-500 dark:text-slate-400",children:"Based on all entries logged for today."})]},t.key))}),(0,e.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,e.jsxs)("div",{className:"card col-span-2 p-5",children:[(0,e.jsx)("h2",{className:"text-sm font-semibold",children:"Today's Overview"}),(0,e.jsxs)("p",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:["Date:"," ",r?.date?r.date:new Date().toISOString().slice(0,10)]}),(0,e.jsx)("pre",{className:"mt-3 max-h-40 overflow-auto rounded-lg bg-slate-900/5 p-3 text-xs text-slate-700 dark:bg-slate-900/70 dark:text-slate-100",children:i?"Loading...":r?JSON.stringify(r,null,2):"No data yet. Try adding some food entries."})]}),(0,e.jsxs)("div",{className:"card p-5",children:[(0,e.jsx)("h2",{className:"text-sm font-semibold",children:"Smart Suggestion"}),(0,e.jsx)("p",{className:"mt-2 text-xs text-slate-600 dark:text-slate-300",children:r?.suggestion||"Log your meals to get personalized suggestions here."})]})]})]})}t.s(["default",()=>r])}]);