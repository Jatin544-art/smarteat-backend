(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,4581,e=>{"use strict";let t="http://localhost:8080/api";async function a(e,a){let s=await fetch(`${t}/log?foodName=${encodeURIComponent(e)}&quantity=${a}`,{method:"POST"});if(!s.ok)throw Error("Failed to add food");return s.json()}async function s(){let e=await fetch(`${t}/summary/today`);if(!e.ok)throw Error("Failed to fetch today's summary");return e.json()}async function o(e,a){let s=await fetch(`${t}/summary/month?year=${e}&month=${a}`);if(!s.ok)throw Error("Failed to fetch month summary");return s.json()}e.s(["addFood",()=>a,"getMonthSummary",()=>o,"getTodaySummary",()=>s])},1559,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(18566),o=e.i(4581);function r(){let e=(0,s.useRouter)(),[r,l]=(0,a.useState)(""),[d,n]=(0,a.useState)(1),[i,c]=(0,a.useState)(""),[u,m]=(0,a.useState)(!1);async function h(e){if(e.preventDefault(),!r||!d)return void c("Please enter food and quantity.");try{m(!0);let e=await (0,o.addFood)(r,d);c(JSON.stringify(e,null,2)),l(""),n(1)}catch(e){c("Error: "+e.message)}finally{m(!1)}}return(0,a.useEffect)(()=>{localStorage.getItem("smarteat-user")||e.push("/login")},[e]),(0,t.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,t.jsxs)("div",{className:"card p-6",children:[(0,t.jsx)("h1",{className:"text-lg font-semibold",children:"Log a Food Entry"}),(0,t.jsx)("p",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:"Supported examples: egg, chapati, rice, dal (more later)."}),(0,t.jsxs)("form",{onSubmit:h,className:"mt-4 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs font-medium",children:"Food name"}),(0,t.jsx)("input",{className:"mt-1 w-full rounded-lg border border-slate-200 bg-white/80 px-3 py-2 text-sm outline-none ring-sky-400/40 focus:border-sky-400 focus:ring-2 dark:border-slate-700 dark:bg-slate-900/70",value:r,onChange:e=>l(e.target.value),placeholder:"e.g. 2 eggs, chapati, rice"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs font-medium",children:"Quantity (units)"}),(0,t.jsx)("input",{type:"number",min:"0",step:"0.1",className:"mt-1 w-full rounded-lg border border-slate-200 bg-white/80 px-3 py-2 text-sm outline-none ring-sky-400/40 focus:border-sky-400 focus:ring-2 dark:border-slate-700 dark:bg-slate-900/70",value:d,onChange:e=>n(e.target.value)})]}),(0,t.jsx)("button",{type:"submit",disabled:u,className:"w-full rounded-xl bg-emerald-500 py-2 text-sm font-semibold text-white shadow-md shadow-emerald-500/40 transition hover:scale-[1.02] hover:bg-emerald-600 disabled:cursor-not-allowed disabled:opacity-60",children:u?"Logging...":"Add Food Entry"})]})]}),(0,t.jsxs)("div",{className:"card p-6",children:[(0,t.jsx)("h2",{className:"text-sm font-semibold",children:"Last Response"}),(0,t.jsx)("pre",{className:"mt-3 max-h-72 overflow-auto rounded-lg bg-slate-900/5 p-3 text-xs text-slate-700 dark:bg-slate-900/70 dark:text-slate-100",children:i||"Your API response will appear here after you log food."})]})]})}e.s(["default",()=>r])}]);